/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.cohere.api.resources.datasets;

import com.cohere.api.core.ClientOptions;
import com.cohere.api.core.RequestOptions;
import com.cohere.api.resources.datasets.requests.DatasetsCreateRequest;
import com.cohere.api.resources.datasets.requests.DatasetsListRequest;
import com.cohere.api.resources.datasets.types.DatasetsCreateResponse;
import com.cohere.api.resources.datasets.types.DatasetsGetResponse;
import com.cohere.api.resources.datasets.types.DatasetsGetUsageResponse;
import com.cohere.api.resources.datasets.types.DatasetsListResponse;
import java.io.File;
import java.util.Map;
import java.util.Optional;
import java.util.concurrent.CompletableFuture;

public class AsyncDatasetsClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawDatasetsClient rawClient;

    public AsyncDatasetsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawDatasetsClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawDatasetsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * List datasets that have been created.
     */
    public CompletableFuture<DatasetsListResponse> list() {
        return this.rawClient.list().thenApply(response -> response.body());
    }

    /**
     * List datasets that have been created.
     */
    public CompletableFuture<DatasetsListResponse> list(DatasetsListRequest request) {
        return this.rawClient.list(request).thenApply(response -> response.body());
    }

    /**
     * List datasets that have been created.
     */
    public CompletableFuture<DatasetsListResponse> list(DatasetsListRequest request, RequestOptions requestOptions) {
        return this.rawClient.list(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Create a dataset by uploading a file. See <a href="https://docs.cohere.com/docs/datasets#dataset-creation">'Dataset Creation'</a> for more information.
     */
    public CompletableFuture<DatasetsCreateResponse> create(
            File data, Optional<File> evalData, DatasetsCreateRequest request) {
        return this.rawClient.create(data, evalData, request).thenApply(response -> response.body());
    }

    /**
     * Create a dataset by uploading a file. See <a href="https://docs.cohere.com/docs/datasets#dataset-creation">'Dataset Creation'</a> for more information.
     */
    public CompletableFuture<DatasetsCreateResponse> create(
            File data, Optional<File> evalData, DatasetsCreateRequest request, RequestOptions requestOptions) {
        return this.rawClient.create(data, evalData, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * View the dataset storage usage for your Organization. Each Organization can have up to 10GB of storage across all their users.
     */
    public CompletableFuture<DatasetsGetUsageResponse> getUsage() {
        return this.rawClient.getUsage().thenApply(response -> response.body());
    }

    /**
     * View the dataset storage usage for your Organization. Each Organization can have up to 10GB of storage across all their users.
     */
    public CompletableFuture<DatasetsGetUsageResponse> getUsage(RequestOptions requestOptions) {
        return this.rawClient.getUsage(requestOptions).thenApply(response -> response.body());
    }

    /**
     * Retrieve a dataset by ID. See <a href="https://docs.cohere.com/docs/datasets">'Datasets'</a> for more information.
     */
    public CompletableFuture<DatasetsGetResponse> get(String id) {
        return this.rawClient.get(id).thenApply(response -> response.body());
    }

    /**
     * Retrieve a dataset by ID. See <a href="https://docs.cohere.com/docs/datasets">'Datasets'</a> for more information.
     */
    public CompletableFuture<DatasetsGetResponse> get(String id, RequestOptions requestOptions) {
        return this.rawClient.get(id, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Delete a dataset by ID. Datasets are automatically deleted after 30 days, but they can also be deleted manually.
     */
    public CompletableFuture<Map<String, Object>> delete(String id) {
        return this.rawClient.delete(id).thenApply(response -> response.body());
    }

    /**
     * Delete a dataset by ID. Datasets are automatically deleted after 30 days, but they can also be deleted manually.
     */
    public CompletableFuture<Map<String, Object>> delete(String id, RequestOptions requestOptions) {
        return this.rawClient.delete(id, requestOptions).thenApply(response -> response.body());
    }
}
